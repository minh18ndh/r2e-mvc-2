@model List<MySecondMVC.Models.Person>
@{
    ViewData["Title"] = "Rookies Actions";
}

<h2>Rookies Actions</h2>

<button onclick="location.href='@Url.Action("GetMales", "Rookies")'">Get Male Members</button>
<button onclick="location.href='@Url.Action("GetOldest", "Rookies")'">Get Oldest Member</button>
<button onclick="location.href='@Url.Action("GetFullNames", "Rookies")'">Get Full Names</button>

<br /><br />

<label for="year">Enter Year:</label>
<input type="number" id="year" value="2000">

<button onclick="filterByYear('equal')">Born in Year</button>
<button onclick="filterByYear('before')">Born before Year</button>
<button onclick="filterByYear('after')">Born after Year</button>

<br /><br />

<button onclick="location.href='@Url.Action("ExportToExcel", "Rookies")'">Export to Excel</button>

<hr />

<h2>People List</h2>
<p><a href="@Url.Action("Create")">Create New Person</a></p>

<table border="1">
    <tr>
        <th>Full Name</th>
        <th>Birth Place</th>
        <th>Actions</th>
    </tr>
    @foreach (var person in Model)
    {
        <tr>
            <td><a href="@Url.Action("Details", new { id = person.Id })">@person.FullName</a></td>
            <td>@person.BirthPlace</td>
            <td>
                <a href="@Url.Action("Edit", new { id = person.Id })">Edit</a>
            </td>
        </tr>
    }
</table>

<script>
    function filterByYear(filterType) {
        let year = document.getElementById("year").value;
        if (!year) {
            alert("Please enter a valid year");
            return;
        }
        window.location.href = `@Url.Action("FilterByBirthYear", "Rookies")?year=${year}&filterType=${filterType}`;
    }
</script>